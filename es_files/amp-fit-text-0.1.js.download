(self.AMP=self.AMP||[]).push({n:"amp-fit-text",ev:"0.1",l:true,v:"2105210438003",m:0,f:(function(AMP,_){
'use strict';var g="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function l(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var e=b[c];if(e&&e.Math==Math)return}(function(){throw Error("Cannot find global object");})()}l(this);"function"===typeof Symbol&&Symbol("x");var m;
if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var q={a:!0},r={};try{r.__proto__=q;n=r.a;break a}catch(a){}n=!1}m=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var t=m;function u(a,b){function c(h){f=null;d=a.setTimeout(e,100);b.apply(null,h)}function e(){d=0;f&&c(f)}var d=0,f=null;return function(h){for(var k=[],p=0;p<arguments.length;++p)k[p-0]=arguments[p];d?f=k:c(k)}};var v=self.AMP_CONFIG||{},w=("string"==typeof v.cdnProxyRegex?new RegExp(v.cdnProxyRegex):v.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function x(a){if(self.document&&self.document.head&&(!self.location||!w.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}v.cdnUrl||x("runtime-host");v.geoApiUrl||x("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var y,z="Webkit webkit Moz moz ms O o".split(" ");function A(a,b,c){var e=a.style;if(!b.startsWith("--")){y||(y=Object.create(null));var d=y[b];if(!d){d=b;if(void 0===e[b]){var f=b.charAt(0).toUpperCase()+b.slice(1);b:{for(var h=0;h<z.length;h++){var k=z[h]+f;if(void 0!==e[k]){f=k;break b}}f=""}void 0!==e[f]&&(d=f)}y[b]=d}b=d}b&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function B(a,b){for(var c in b)A(a,c,b[c])};function C(a){a=parseFloat(a);return"number"===typeof a&&isFinite(a)?a:void 0};function D(a){a=AMP.BaseElement.call(this,a)||this;a.j=null;a.h=null;a.o=null;a.C=-1;a.B=-1;a.A=null;a.D="";return a}var E=AMP.BaseElement;D.prototype=g(E.prototype);D.prototype.constructor=D;if(t)t(D,E);else for(var F in E)if("prototype"!=F)if(Object.defineProperties){var G=Object.getOwnPropertyDescriptor(E,F);G&&Object.defineProperty(D,F,G)}else D[F]=E[F];D.F=E.prototype;D.prerenderAllowed=function(){return!0};
D.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};
D.prototype.buildCallback=function(){var a=this;this.j=this.element.ownerDocument.createElement("div");this.applyFillContent(this.j);this.j.classList.add("i-amphtml-fit-text-content");B(this.j,{zIndex:2});this.h=this.element.ownerDocument.createElement("div");B(this.h,{lineHeight:"1.15em"});this.j.appendChild(this.h);this.o=this.element.ownerDocument.createElement("div");B(this.o,{position:"absolute",top:0,left:0,zIndex:1,visibility:"hidden",lineHeight:"1.15em"});this.getRealChildNodes().forEach(function(b){a.h.appendChild(b)});
this.o.innerHTML=this.h.innerHTML;this.element.appendChild(this.j);this.element.appendChild(this.o);this.C=C(this.element.getAttribute("min-font-size"))||6;this.B=C(this.element.getAttribute("max-font-size"))||72;Object.defineProperty(this.element,"textContent",{set:function(b){a.D=b;a.mutateElement(function(){a.h.textContent=b;a.o.innerHTML=a.h.innerHTML;H(a)})},get:function(){return a.D||a.h.textContent}})};D.prototype.isRelayoutNeeded=function(){return!0};
D.prototype.layoutCallback=function(){var a=this;if(this.win.ResizeObserver&&null===this.A){var b=new this.win.ResizeObserver(u(this.win,function(){return a.mutateElement(function(){a.o.innerHTML=a.h.innerHTML;H(a)})}));b.observe(this.j);b.observe(this.o);this.A=function(){b.disconnect()}}return this.mutateElement(function(){H(a)})};D.prototype.unlayoutCallback=function(){null!==this.A&&(this.A(),this.A=null)};
function H(a){var b=a.j.offsetHeight,c=a.o;var e=a.j.offsetWidth;var d=a.C,f=a.B;for(f++;1<f-d;){var h=Math.floor((d+f)/2);A(c,"fontSize",h+"px");var k=c.offsetWidth;c.offsetHeight>b||k>e?f=h:d=h}e=d;A(a.h,"fontSize",e+"px");c=a.h;a=a.o;A(a,"fontSize",e+"px");a=a.offsetHeight>b;e*=1.15;d=Math.floor(b/e);c.classList.toggle("i-amphtml-fit-text-content-overflown",a);B(c,{lineClamp:a?d:"",maxHeight:a?e*d+"px":""})}(function(a){a.registerElement("amp-fit-text",D,".i-amphtml-fit-text-content,.i-amphtml-fit-text-content.i-amphtml-fill-content{display:block;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-pack:center;justify-content:center}.i-amphtml-fit-text-content-overflown{display:block;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}\n/*# sourceURL=/extensions/amp-fit-text/0.1/amp-fit-text.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-fit-text-0.1.js.map
